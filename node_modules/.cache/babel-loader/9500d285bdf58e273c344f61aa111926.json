{"ast":null,"code":"import _classCallCheck from \"/Users/liuxu/Desktop/GT/2019-spring/cs6301/6301Spring19Web1/PTTWeb1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/liuxu/Desktop/GT/2019-spring/cs6301/6301Spring19Web1/PTTWeb1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/liuxu/Desktop/GT/2019-spring/cs6301/6301Spring19Web1/PTTWeb1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/liuxu/Desktop/GT/2019-spring/cs6301/6301Spring19Web1/PTTWeb1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/liuxu/Desktop/GT/2019-spring/cs6301/6301Spring19Web1/PTTWeb1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/liuxu/Desktop/GT/2019-spring/cs6301/6301Spring19Web1/PTTWeb1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/liuxu/Desktop/GT/2019-spring/cs6301/6301Spring19Web1/PTTWeb1/src/views/UserProfile.tsx\";\nimport * as React from 'react';\nimport { Container, Row, Col, Button, Table, Modal } from 'react-bootstrap';\nimport Card from '../components/Card/Card';\nimport { connect } from 'react-redux';\nimport { fetchAllUsers as _fetchAllUsers, postUser as _postUser, putUser as _putUser, removeUser as _removeUser, clearErrorMessage as _clearErrorMessage } from '../redux/actionCreators/user.action';\nimport UserList from '../components/List/UserList'; // map redux store's state to the prop of the components\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userlist: state.users.list,\n    userErrMess: state.users.errMess\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchAllUsers: function fetchAllUsers() {\n      dispatch(_fetchAllUsers());\n    },\n    postUser: function postUser(_ref) {\n      var firstName = _ref.firstName,\n          lastName = _ref.lastName,\n          email = _ref.email;\n      dispatch(_postUser({\n        firstName: firstName,\n        lastName: lastName,\n        email: email\n      }));\n    },\n    putUser: function putUser(_ref2) {\n      var firstName = _ref2.firstName,\n          lastName = _ref2.lastName,\n          id = _ref2.id;\n      dispatch(_putUser({\n        firstName: firstName,\n        lastName: lastName,\n        id: id\n      }));\n    },\n    removeUser: function removeUser(userId) {\n      dispatch(_removeUser(userId));\n    },\n    clearErrorMessage: function clearErrorMessage() {\n      dispatch(_clearErrorMessage());\n    }\n  };\n};\n\nvar UserProfile =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserProfile, _React$Component);\n\n  function UserProfile(props) {\n    var _this;\n\n    _classCallCheck(this, UserProfile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserProfile).call(this, props));\n    _this.ErrModalClose = _this.ErrModalClose.bind(_assertThisInitialized(_this));\n    _this.ErrModal = _this.ErrModal.bind(_assertThisInitialized(_this));\n    _this.DelModalShow = _this.DelModalShow.bind(_assertThisInitialized(_this));\n    _this.DelModalClose = _this.DelModalClose.bind(_assertThisInitialized(_this));\n    _this.DelModal = _this.DelModal.bind(_assertThisInitialized(_this));\n    _this.CreateModalShow = _this.CreateModalShow.bind(_assertThisInitialized(_this));\n    _this.CreateModalClose = _this.CreateModalClose.bind(_assertThisInitialized(_this));\n    _this.CreateModal = _this.CreateModal.bind(_assertThisInitialized(_this));\n    _this.EditModalClose = _this.EditModalClose.bind(_assertThisInitialized(_this));\n    _this.EditModalShow = _this.EditModalShow.bind(_assertThisInitialized(_this));\n    _this.EditModal = _this.EditModal.bind(_assertThisInitialized(_this));\n    _this.state = {\n      delete_show: false,\n      delete_index: 0,\n      create_show: false,\n      new_user_first_name: '',\n      new_user_last_name: '',\n      new_user_email: '',\n      edit_show: false,\n      edit_index: 0,\n      edit_id: 0,\n      edit_user_first_name: '',\n      edit_user_last_name: ''\n    };\n    return _this;\n  }\n\n  _createClass(UserProfile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.fetchAllUsers();\n    } // Error modal\n\n  }, {\n    key: \"ErrModalClose\",\n    value: function ErrModalClose() {\n      this.props.clearErrorMessage();\n    }\n  }, {\n    key: \"ErrModal\",\n    value: function ErrModal() {\n      var _this2 = this;\n\n      return React.createElement(Modal, {\n        id: \"error_modal\",\n        show: this.props.userErrMess != null,\n        onHide: this.ErrModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Error Code\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, this.props.userErrMess), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: function onClick() {\n          return _this2.ErrModalClose();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"OK\")));\n    } // Delete modal\n\n  }, {\n    key: \"DelModalClose\",\n    value: function DelModalClose() {\n      this.setState({\n        delete_show: false\n      });\n    }\n  }, {\n    key: \"DelModalShow\",\n    value: function DelModalShow() {\n      this.setState({\n        delete_show: true\n      });\n    }\n  }, {\n    key: \"DelButton\",\n    value: function DelButton(user, key) {\n      if (user.related_projects && user.related_projects.length != 0) {\n        this.setState({\n          delete_index: key\n        });\n        this.DelModalShow();\n      } else {\n        this.props.removeUser(user.id);\n      }\n    }\n  }, {\n    key: \"DelUser\",\n    value: function DelUser(userId) {\n      if (this.state.delete_show) {\n        this.DelModalClose();\n      }\n\n      this.props.removeUser(userId);\n    }\n  }, {\n    key: \"DelModal\",\n    value: function DelModal() {\n      var _this3 = this;\n\n      if (this.props.userlist && this.state.delete_index < this.props.userlist.length) {\n        return React.createElement(Modal, {\n          id: \"delete_modal\",\n          show: this.state.delete_show,\n          onHide: this.DelModalClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          closeButton: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(Modal.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"Confirmation\")), React.createElement(Modal.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, \"First name: \", this.props.userlist[this.state.delete_index].firstName, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }), \"Last name: \", this.props.userlist[this.state.delete_index].lastName, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }), \"Email: \", this.props.userlist[this.state.delete_index].email, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }), \"This user has \".concat(this.props.userlist[this.state.delete_index].related_projects.length, \" related projects.\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }), \"Are you sure to delete the user?\"), React.createElement(Modal.Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"secondary\",\n          onClick: this.DelModalClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, \"No\"), React.createElement(Button, {\n          id: \"confirm_delete\",\n          variant: \"primary\",\n          onClick: function onClick() {\n            return _this3.DelUser(_this3.props.userlist[_this3.state.delete_index].id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, \"Yes\")));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"CreateModalClose\",\n    value: function CreateModalClose() {\n      this.setState({\n        create_show: false\n      });\n    }\n  }, {\n    key: \"CreateModalShow\",\n    value: function CreateModalShow() {\n      this.setState({\n        create_show: true\n      });\n    }\n  }, {\n    key: \"CreateModal\",\n    value: function CreateModal() {\n      var _this4 = this;\n\n      return React.createElement(Modal, {\n        id: \"create_modal\",\n        show: this.state.create_show,\n        onHide: this.CreateModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Create a new user\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"First name\"), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"create_first_name\",\n        value: this.state.new_user_first_name,\n        onChange: function onChange(e) {\n          _this4.setState({\n            new_user_first_name: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"Last name\"), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"create_last_name\",\n        value: this.state.new_user_last_name,\n        onChange: function onChange(e) {\n          _this4.setState({\n            new_user_last_name: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"create_email\",\n        value: this.state.new_user_email,\n        onChange: function onChange(e) {\n          _this4.setState({\n            new_user_email: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      })))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.CreateModalClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        id: \"confirm_create_new_user_button\",\n        variant: \"primary\",\n        onClick: function onClick() {\n          _this4.props.postUser({\n            firstName: _this4.state.new_user_first_name,\n            lastName: _this4.state.new_user_last_name,\n            email: _this4.state.new_user_email\n          });\n\n          _this4.CreateModalClose();\n\n          _this4.setState({\n            new_user_first_name: ''\n          });\n\n          _this4.setState({\n            new_user_last_name: ''\n          });\n\n          _this4.setState({\n            new_user_email: ''\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Create\")));\n    }\n  }, {\n    key: \"EditModalClose\",\n    value: function EditModalClose() {\n      this.setState({\n        edit_show: false\n      });\n    }\n  }, {\n    key: \"EditModalShow\",\n    value: function EditModalShow() {\n      this.setState({\n        edit_show: true\n      });\n    }\n  }, {\n    key: \"EditButton\",\n    value: function EditButton(user, key) {\n      this.setState({\n        edit_index: key,\n        edit_id: user.id,\n        edit_user_first_name: user.firstName,\n        edit_user_last_name: user.lastName\n      });\n      this.EditModalShow();\n    }\n  }, {\n    key: \"EditModal\",\n    value: function EditModal() {\n      var _this5 = this;\n\n      if (this.props.userlist && this.state.edit_index < this.props.userlist.length) {\n        return React.createElement(Modal, {\n          id: \"edit_modal\",\n          show: this.state.edit_show,\n          onHide: this.EditModalClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, React.createElement(Modal.Header, {\n          closeButton: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, React.createElement(Modal.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, \"Edit this user\")), React.createElement(Modal.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        }, \"First name\"), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          id: \"edit_first_name\",\n          value: this.state.edit_user_first_name,\n          onChange: function onChange(e) {\n            _this5.setState({\n              edit_user_first_name: e.target.value\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296\n          },\n          __self: this\n        }))), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305\n          },\n          __self: this\n        }, React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        }, \" Last name\"), React.createElement(Col, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          id: \"edit_last_name\",\n          value: this.state.edit_user_last_name,\n          onChange: function onChange(e) {\n            _this5.setState({\n              edit_user_last_name: e.target.value\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308\n          },\n          __self: this\n        })))), React.createElement(Modal.Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"secondary\",\n          onClick: this.EditModalClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 319\n          },\n          __self: this\n        }, \"Cancel\"), React.createElement(Button, {\n          id: \"confirm_edit\",\n          variant: \"primary\",\n          onClick: function onClick() {\n            _this5.props.putUser({\n              firstName: _this5.state.edit_user_first_name,\n              lastName: _this5.state.edit_user_last_name,\n              id: _this5.state.edit_id\n            });\n\n            _this5.EditModalClose();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          },\n          __self: this\n        }, \"Edit\")));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      //@ts-ignore\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, React.createElement(Container, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, React.createElement(Card, {\n        title: \"User Profiles\",\n        category: \"Here is list of users for admin\",\n        ctTableFullWidth: true,\n        ctTableResponsive: true,\n        content: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 358\n          },\n          __self: this\n        }, React.createElement(Button, {\n          id: \"create_new_user_button\",\n          className: \"col\",\n          variant: \"primary\",\n          onClick: function onClick() {\n            return _this6.CreateModalShow();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 359\n          },\n          __self: this\n        }, \"Create New User\"), React.createElement(Table, {\n          striped: true,\n          hover: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370\n          },\n          __self: this\n        }, \"S No.\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371\n          },\n          __self: this\n        }, \"First Name\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 372\n          },\n          __self: this\n        }, \"Last Name\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 373\n          },\n          __self: this\n        }, \"Email\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 374\n          },\n          __self: this\n        }, \"Related Projects\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375\n          },\n          __self: this\n        }, \"operations\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378\n          },\n          __self: this\n        }, this.props.userlist && this.props.userlist.map(function (user, index) {\n          return React.createElement(UserList, {\n            user: user,\n            key: index,\n            index: index,\n            delete_button: function delete_button() {\n              return _this6.DelButton(user, index);\n            },\n            edit_button: function edit_button() {\n              return _this6.EditButton(user, index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 382\n            },\n            __self: this\n          });\n        })))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      })))), React.createElement(this.DelModal, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }), React.createElement(this.CreateModal, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }), React.createElement(this.EditModal, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }), React.createElement(this.ErrModal, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return UserProfile;\n}(React.Component);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile);","map":{"version":3,"sources":["/Users/liuxu/Desktop/GT/2019-spring/cs6301/6301Spring19Web1/PTTWeb1/src/views/UserProfile.tsx"],"names":["React","Container","Row","Col","Button","Table","Modal","Card","connect","fetchAllUsers","postUser","putUser","removeUser","clearErrorMessage","UserList","mapStateToProps","state","userlist","users","list","userErrMess","errMess","mapDispatchToProps","dispatch","firstName","lastName","email","id","userId","UserProfile","props","ErrModalClose","bind","ErrModal","DelModalShow","DelModalClose","DelModal","CreateModalShow","CreateModalClose","CreateModal","EditModalClose","EditModalShow","EditModal","delete_show","delete_index","create_show","new_user_first_name","new_user_last_name","new_user_email","edit_show","edit_index","edit_id","edit_user_first_name","edit_user_last_name","setState","user","key","related_projects","length","DelUser","e","target","value","map","index","DelButton","EditButton","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Container, Row, Col, Button, Table, Modal } from 'react-bootstrap';\nimport Card from '../components/Card/Card';\nimport { connect } from 'react-redux';\nimport { fetchAllUsers, postUser, putUser, removeUser, clearErrorMessage } from '../redux/actionCreators/user.action';\nimport UserList from '../components/List/UserList';\n\n// map redux store's state to the prop of the components\nconst mapStateToProps = (state: any) => {\n   return {\n      userlist: state.users.list,\n      userErrMess: state.users.errMess\n   };\n};\n\nconst mapDispatchToProps = dispatch => ({\n   fetchAllUsers: () => {\n      dispatch(fetchAllUsers());\n   },\n   postUser: ({ firstName, lastName, email }) => {\n      dispatch(postUser({ firstName, lastName, email }));\n   },\n   putUser: ({ firstName, lastName, id }) => {\n      dispatch(putUser({ firstName, lastName, id }));\n   },\n   removeUser: userId => {\n      dispatch(removeUser(userId));\n   }, \n   clearErrorMessage: () => {\n      dispatch(clearErrorMessage())\n   }\n});\n\ninterface Props {\n   userlist: any;\n   userErrMess: any;\n   fetchAllUsers: any;\n   postUser: any;\n   putUser: any;\n   removeUser: any;\n   clearErrorMessage: any;\n}\ninterface State {\n   delete_show: boolean;\n   delete_index: number;\n\n   create_show: boolean;\n   new_user_first_name: string;\n   new_user_last_name: string;\n   new_user_email: string;\n\n   edit_show: boolean;\n   edit_index: number;\n   edit_id: number;\n   edit_user_first_name: string;\n   edit_user_last_name: string;\n}\n\nclass UserProfile extends React.Component<Props, State> {\n   constructor(props: any) {\n      super(props);\n\n      this.ErrModalClose = this.ErrModalClose.bind(this);\n      this.ErrModal = this.ErrModal.bind(this);\n\n      this.DelModalShow = this.DelModalShow.bind(this);\n      this.DelModalClose = this.DelModalClose.bind(this);\n      this.DelModal = this.DelModal.bind(this);\n\n      this.CreateModalShow = this.CreateModalShow.bind(this);\n      this.CreateModalClose = this.CreateModalClose.bind(this);\n      this.CreateModal = this.CreateModal.bind(this);\n\n      this.EditModalClose = this.EditModalClose.bind(this);\n      this.EditModalShow = this.EditModalShow.bind(this);\n      this.EditModal = this.EditModal.bind(this);\n\n      this.state = {\n         delete_show: false,\n         delete_index: 0,\n\n         create_show: false,\n         new_user_first_name: '',\n         new_user_last_name: '',\n         new_user_email: '',\n\n         edit_show: false,\n         edit_index: 0,\n         edit_id: 0,\n         edit_user_first_name: '',\n         edit_user_last_name: ''\n      };\n   }\n\n   componentDidMount() {\n      this.props.fetchAllUsers();\n   }\n\n   // Error modal\n   ErrModalClose() {\n      this.props.clearErrorMessage();\n   }\n\n   ErrModal() {\n      return (\n         <Modal id=\"error_modal\" show={this.props.userErrMess != null} onHide={this.ErrModalClose}>\n            <Modal.Header closeButton>\n               <Modal.Title>Error Code</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n               {this.props.userErrMess}\n            </Modal.Body>\n            <Modal.Footer>\n               <Button\n                  variant=\"primary\"\n                  onClick={() => this.ErrModalClose()}\n               >\n                  OK\n               </Button>\n            </Modal.Footer>\n         </Modal>\n      );\n   }\n\n   // Delete modal\n   DelModalClose() {\n      this.setState({ delete_show: false });\n   }\n\n   DelModalShow() {\n      this.setState({ delete_show: true });\n   }\n\n   DelButton(user: any, key: number) {\n      if (user.related_projects && user.related_projects.length != 0) {\n         this.setState({ delete_index: key });\n         this.DelModalShow();\n      } else {\n         this.props.removeUser(user.id);\n      }\n   }\n\n   DelUser(userId: number) {\n      if (this.state.delete_show) {\n         this.DelModalClose();\n      }\n      this.props.removeUser(userId);\n   }\n\n   DelModal() {\n      if (this.props.userlist && this.state.delete_index < this.props.userlist.length) {\n         return (\n            <Modal id=\"delete_modal\" show={this.state.delete_show} onHide={this.DelModalClose}>\n               <Modal.Header closeButton>\n                  <Modal.Title>Confirmation</Modal.Title>\n               </Modal.Header>\n               <Modal.Body>\n                  First name: {this.props.userlist[this.state.delete_index].firstName}\n                  <br />\n                  Last name: {this.props.userlist[this.state.delete_index].lastName}\n                  <br />\n                  Email: {this.props.userlist[this.state.delete_index].email}\n                  <br />\n                  {`This user has ${\n                     this.props.userlist[this.state.delete_index].related_projects.length\n                  } related projects.`}\n                  <br />\n                  Are you sure to delete the user?\n               </Modal.Body>\n               <Modal.Footer>\n                  <Button variant=\"secondary\" onClick={this.DelModalClose}>\n                     No\n                  </Button>\n                  <Button\n                     id=\"confirm_delete\"\n                     variant=\"primary\"\n                     onClick={() => this.DelUser(this.props.userlist[this.state.delete_index].id)}\n                  >\n                     Yes\n                  </Button>\n               </Modal.Footer>\n            </Modal>\n         );\n      } else {\n         return <div />;\n      }\n   }\n\n   CreateModalClose() {\n      this.setState({ create_show: false });\n   }\n\n   CreateModalShow() {\n      this.setState({ create_show: true });\n   }\n\n   CreateModal() {\n      return (\n         <Modal id=\"create_modal\" show={this.state.create_show} onHide={this.CreateModalClose}>\n            <Modal.Header closeButton>\n               <Modal.Title>Create a new user</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n               <Row>\n                  <Col>First name</Col>\n                  <Col>\n                     <input\n                        id=\"create_first_name\"\n                        value={this.state.new_user_first_name}\n                        onChange={(e: any) => {\n                           this.setState({ new_user_first_name: e.target.value });\n                        }}\n                     />\n                  </Col>\n               </Row>\n               <Row>\n                  <Col>Last name</Col>\n                  <Col>\n                     <input\n                        id=\"create_last_name\"\n                        value={this.state.new_user_last_name}\n                        onChange={(e: any) => {\n                           this.setState({ new_user_last_name: e.target.value });\n                        }}\n                     />\n                  </Col>\n               </Row>\n               <Row>\n                  <Col>Email</Col>\n                  <Col>\n                     <input\n                        id=\"create_email\"\n                        value={this.state.new_user_email}\n                        onChange={(e: any) => {\n                           this.setState({ new_user_email: e.target.value });\n                        }}\n                     />\n                  </Col>\n               </Row>\n            </Modal.Body>\n            <Modal.Footer>\n               <Button variant=\"secondary\" onClick={this.CreateModalClose}>\n                  Cancel\n               </Button>\n               <Button\n                  id=\"confirm_create_new_user_button\"\n                  variant=\"primary\"\n                  onClick={() => {\n                     this.props.postUser({\n                        firstName: this.state.new_user_first_name,\n                        lastName: this.state.new_user_last_name,\n                        email: this.state.new_user_email\n                     });\n                     this.CreateModalClose();\n                     this.setState({ new_user_first_name: '' });\n                     this.setState({ new_user_last_name: '' });\n                     this.setState({ new_user_email: '' });\n                  }}\n               >\n                  Create\n               </Button>\n            </Modal.Footer>\n         </Modal>\n      );\n   }\n\n   EditModalClose() {\n      this.setState({ edit_show: false });\n   }\n\n   EditModalShow() {\n      this.setState({ edit_show: true });\n   }\n\n   EditButton(user: any, key: number) {\n      this.setState({\n         edit_index: key,\n         edit_id: user.id,\n         edit_user_first_name: user.firstName,\n         edit_user_last_name: user.lastName\n      });\n      this.EditModalShow();\n   }\n\n   EditModal() {\n      if (this.props.userlist && this.state.edit_index < this.props.userlist.length) {\n         return (\n            <Modal id=\"edit_modal\" show={this.state.edit_show} onHide={this.EditModalClose}>\n               <Modal.Header closeButton>\n                  <Modal.Title>Edit this user</Modal.Title>\n               </Modal.Header>\n               <Modal.Body>\n                  <Row>\n                     <Col>First name</Col>\n                     <Col>\n                        <input\n                           id=\"edit_first_name\"\n                           value={this.state.edit_user_first_name}\n                           onChange={(e: any) => {\n                              this.setState({ edit_user_first_name: e.target.value });\n                           }}\n                        />\n                     </Col>\n                  </Row>\n                  <Row>\n                     <Col> Last name</Col>\n                     <Col>\n                        <input\n                           id=\"edit_last_name\"\n                           value={this.state.edit_user_last_name}\n                           onChange={(e: any) => {\n                              this.setState({ edit_user_last_name: e.target.value });\n                           }}\n                        />\n                     </Col>\n                  </Row>\n               </Modal.Body>\n               <Modal.Footer>\n                  <Button variant=\"secondary\" onClick={this.EditModalClose}>\n                     Cancel\n                  </Button>\n                  <Button\n                     id=\"confirm_edit\"\n                     variant=\"primary\"\n                     onClick={() => {\n                        this.props.putUser({\n                           firstName: this.state.edit_user_first_name,\n                           lastName: this.state.edit_user_last_name,\n                           id: this.state.edit_id\n                        });\n                        this.EditModalClose();\n                     }}\n                  >\n                     Edit\n                  </Button>\n               </Modal.Footer>\n            </Modal>\n         );\n      } else {\n         return <div />;\n      }\n   }\n\n   render() {\n      //@ts-ignore\n\n      return (\n         <div>\n            <Container fluid>\n               <Row>\n                  <Col md={12}>\n                     <Card\n                        title=\"User Profiles\"\n                        category=\"Here is list of users for admin\"\n                        ctTableFullWidth\n                        ctTableResponsive\n                        content={\n                           <div>\n                              <Button\n                                 id = \"create_new_user_button\"\n                                 className=\"col\"\n                                 variant=\"primary\"\n                                 onClick={() => this.CreateModalShow()}\n                              >\n                                 Create New User\n                              </Button>\n                              <Table striped hover>\n                                 <thead>\n                                    <tr>\n                                       <th>S No.</th>\n                                       <th>First Name</th>\n                                       <th>Last Name</th>\n                                       <th>Email</th>\n                                       <th>Related Projects</th>\n                                       <th>operations</th>\n                                    </tr>\n                                 </thead>\n                                 <tbody>\n                                    {this.props.userlist &&\n                                       this.props.userlist.map((user: any, index: number) => {\n                                          return (\n                                             <UserList\n                                                user={user}\n                                                key={index}\n                                                index={index}\n                                                delete_button={() => this.DelButton(user, index)}\n                                                edit_button={() => this.EditButton(user, index)}\n                                             />\n                                          );\n                                       })}\n                                 </tbody>\n                              </Table>\n                           </div>\n                        }\n                     />\n                  </Col>\n               </Row>\n            </Container>\n            <this.DelModal />\n            <this.CreateModal />\n            <this.EditModal />\n            <this.ErrModal />\n         </div>\n      );\n   }\n}\n\nexport default connect(\n   mapStateToProps,\n   mapDispatchToProps\n)(UserProfile);\n"]},"metadata":{},"sourceType":"module"}